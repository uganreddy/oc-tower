# Container for the Ansible Tower CLI

## Description

This is just a very simple container wrapper around a command line tool. It is to avoid having to install a package from PyPI using, for example, `pip` every time during a CI/CD pipeline that natively uses containers for each job. This speeds up the process slightly and it is more efficient to "solve" this problem once in a central location.

At the time of checking we were unable to find an official container image maintained by the authors of the original project and for security and auditing purposes we wanted to use an image that was generated by an automated public build on the official Docker Hub. If an official image would become available we would suggest using that instead as it most likely would be better supported on the long term. In that case it would be much appreciated if you would take the time to file an issue in this project so that we can update the readme accordingly.

## Examples

### Docker Run

```bash
docker run --rm -ti perrit/ansible-tower-cli tower-cli --help
docker run --rm -ti perrit/ansible-tower-cli tower-cli --version
docker run --rm -ti registry.gitlab.com/perrit/ansible-tower-cli-container tower-cli --help
docker run --rm -ti registry.gitlab.com/perrit/ansible-tower-cli-container tower-cli --version
```

### `.gitlab-ci.yml`

```yaml
launch:
  only: ["master"]
  image: perrit/ansible-tower-cli
  script:
    - tower-cli config verify_ssl $AWX_VERIFY_SSL
    - tower-cli config host $AWX_HOST
    - tower-cli config username $AWX_USERNAME
    - tower-cli config password $AWX_PASSWORD
    - tower-cli job launch --job-template=$AWX_JOB_TEMPLATE
```

## Links

* https://github.com/ansible/tower-cli
* https://github.com/perrit/ansible-tower-cli-container
* https://gitlab.com/perrit/ansible-tower-cli-container
* https://hub.docker.com/r/perrit/ansible-tower-cli/
